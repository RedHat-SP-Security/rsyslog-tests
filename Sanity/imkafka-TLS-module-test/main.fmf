summary: sanity test for omkafka module and TLS usage
description: ''
contact: Patrik Koncity <pkoncity@redhat.com>
component:
  - rsyslog
  - librdkafka
test: ./runtest.sh
require+:
  - library(distribution/dpcommon)
  - library(selinux-policy/common)
  - wget
recommend:
  - rsyslog
  - librdkafka
  - rsyslog-kafka
  - java
duration: 20m
enabled: true
tag:
  - NoRHEL4
  - NoRHEL5
  - NoRHEL6
  - NoRHEL7
  - NoRHEL8
  - Tier2
adjust:
  - enabled: false
    when: distro < rhel-9
    continue: false
  - enabled: false
    when: arch == s390x
    continue: false
/rsa:
    environment:
        KAFKA_CRYPTO_ALG: RSA
        RSYSLOG_CRYPTO_ALG: RSA
    id: 068c7465-a6f4-4ebd-9ccf-0179ac4c0315
/pqc_alg:
    environment:
        KAFKA_CRYPTO_ALG: ML-DSA-65
        RSYSLOG_CRYPTO_ALG: ML-DSA-65
    continue: false
    adjust+:
      - enabled: false
        because: PQC is not implemented for Kafka
      - enabled: false
        when: distro < rhel-10.1 or distro < fedora-43
        because: PQC is available from this version of OS
    id: b13d34a2-e4c8-4f48-a77c-78b8ca1464c0
